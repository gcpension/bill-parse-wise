import { ServiceCategory, CustomerType } from '@/types/switchForms';

export interface PowerOfAttorneyText {
  short: string;
  full: string;
}

export const getPowerOfAttorneyText = (
  category: ServiceCategory,
  customerType: CustomerType,
  companyName: string = '[שם חברת המעבר]'
): PowerOfAttorneyText => {
  const texts: Record<ServiceCategory, Record<CustomerType, PowerOfAttorneyText>> = {
    electricity: {
      private: {
        short: `אני הח״מ, [שם מלא], ת.ז. [מס׳], ממנה את ${companyName} ו/או מיופה מטעמה לקבל בשמי מידע צריכה (מס׳ חוזה/מונה [___]) ולבצע החלפת ספק חשמל בהתאם לבחירתי. ההרשאה מוגבלת להליך המעבר, בתוקף עד [תאריך פקיעה] או ביטול בכתב. תאריך: ___ חתימה: ___.`,
        full: `אני הח״מ, [שם מלא], ת.ז. [מס׳], מאשר/ת ל${companyName} לפעול בשמי לביצוע החלפת ספק חשמל עבור נקודת הצריכה שמספרה [מס׳ חוזה/מונה] בכתובת [כתובת], לרבות: הגשת בקשה מקוונת, קבלת/מסירת מידע הנדרש, קבלת הודעות אימות (SMS/Email) ומתן מענה טכני נדרש. ההרשאה אינה מקנה סמכות לביצוע פעולות כספיות מעבר להצטרפות לספק החדש. תוקף עד [תאריך פקיעה] או עד הודעת ביטול בכתב (הקודם מביניהם). ידוע לי שספק החשמל או המפעיל יוכלו לפנות אליי לאימות. תאריך: ___ חתימה: ___.`
      },
      business: {
        short: `אנחנו, [שם התאגיד], ח.פ./ח.צ. [מס׳], ממנים את ${companyName} לפעול בשמנו לקבלת מידע וביצוע החלפת ספק חשמל עבור נקודות הצריכה המפורטות, לרבות הגשה מקוונת ואישורים נדרשים. תוקף עד [תאריך פקיעה] או ביטול בכתב. מורשה חתימה: ___ ת.ז.: ___ תפקיד: ___ תאריך: ___ חתימה/חותמת: ___.`,
        full: `אנחנו, [שם התאגיד], ח.פ./ח.צ. [מס׳], ממנים את ${companyName} לפעול בשמנו לקבלת מידע וביצוע החלפת ספק חשמל עבור נקודות הצריכה המפורטות, לרבות הגשה מקוונת ואישורים נדרשים. תוקף עד [תאריך פקיעה] או ביטול בכתב. מורשה חתימה: ___ ת.ז.: ___ תפקיד: ___ תאריך: ___ חתימה/חותמת: ___.`
      }
    },
    cellular: {
      private: {
        short: `אני הח״מ, [שם מלא], ת.ז. [מס׳], מרשה ל${companyName} לבצע בשמי ניתוק/ביטול וניוד מספרים, שינוי בעלות וקבלת/מסירת מידע הנדרש לצורך המעבר בין ספקי סלולר, ללא סמכות לפעולות כספיות שאינן נחוצות להצטרפות. תוקף עד [תאריך פקיעה] או ביטול. ידוע לי שאדרש לאשר OTP ב-SIM הנוכחי. תאריך: ___ חתימה: ___.`,
        full: `אני הח״מ, [שם מלא], ת.ז. [מס׳], מרשה ל${companyName} לבצע בשמי ניתוק/ביטול וניוד מספרים, שינוי בעלות וקבלת/מסירת מידע הנדרש לצורך המעבר בין ספקי סלולר, ללא סמכות לפעולות כספיות שאינן נחוצות להצטרפות. תוקף עד [תאריך פקיעה] או ביטול. ידוע לי שאדרש לאשר OTP ב-SIM הנוכחי. תאריך: ___ חתימה: ___.`
      },
      business: {
        short: `אנחנו, [שם התאגיד], ח.פ./ח.צ. [מס׳], מייפים את כוחם של ${companyName} ו/או מורשיה להגיש בשמנו בקשות ניוד/שינוי בעלות לקווי סלולר כמפורט, לקבל/למסור מידע מזהה, ולפעול מול הספקים הקולטים/הננטשים. ההרשאה מוגבלת למעבר המבוקש, עד [תאריך פקיעה] או ביטול בכתב. מורשה חתימה: ___ ת.ז.: ___ תפקיד: ___ חתימה/חותמת: ___.`,
        full: `אנחנו, [שם התאגיד], ח.פ./ח.צ. [מס׳], מייפים את כוחם של ${companyName} ו/או מורשיה להגיש בשמנו בקשות ניוד/שינוי בעלות לקווי סלולר כמפורט, לקבל/למסור מידע מזהה, ולפעול מול הספקים הקולטים/הננטשים. ההרשאה מוגבלת למעבר המבוקש, עד [תאריך פקיעה] או ביטול בכתב. מורשה חתימה: ___ ת.ז.: ___ תפקיד: ___ חתימה/חותמת: ___.`
      }
    },
    internet: {
      private: {
        short: `אני הח״מ, [שם מלא], ת.ז. [מס׳], מרשה ל${companyName} לנתק ולחבר שירותי אינטרנט ותשתית בשמי, לרבות שינוי ספק תשתית/ISP, מסירת מזהי קו/מנוי/ONT, קבלת הודעות ניתוק/הצטרפות וחתימה על הצהרות טכניות נלוות. תוקף עד [תאריך פקיעה] או ביטול. תאריך: ___ חתימה: ___.`,
        full: `אני הח״מ, [שם מלא], ת.ז. [מס׳], מרשה ל${companyName} לנתק ולחבר שירותי אינטרנט ותשתית בשמי, לרבות שינוי ספק תשתית/ISP, מסירת מזהי קו/מנוי/ONT, קבלת הודעות ניתוק/הצטרפות וחתימה על הצהרות טכניות נלוות. תוקף עד [תאריך פקיעה] או ביטול. תאריך: ___ חתימה: ___.`
      },
      business: {
        short: `אנחנו, [שם התאגיד], ח.פ./ח.צ. [מס׳], ממנים את ${companyName} לביצוע ניתוק/חיבור שירותי אינטרנט ותשתיות עבור האתרים/קווים המפורטים, לרבות מסירת מזהים טכניים והשלמת הליכי הצטרפות. תוקף עד [תאריך פקיעה] או ביטול. מורשה חתימה: ___ ת.ז.: ___ תפקיד: ___ חתימה/חותמת: ___.`,
        full: `אנחנו, [שם התאגיד], ח.פ./ח.צ. [מס׳], ממנים את ${companyName} לביצוע ניתוק/חיבור שירותי אינטרנט ותשתיות עבור האתרים/קווים המפורטים, לרבות מסירת מזהים טכניים והשלמת הליכי הצטרפות. תוקף עד [תאריך פקיעה] או ביטול. מורשה חתימה: ___ ת.ז.: ___ תפקיד: ___ חתימה/חותמת: ___.`
      }
    },
    tv: {
      private: {
        short: `אני הח״מ, [שם מלא], ת.ז. [מס׳], מאשר/ת ל${companyName} לבטל את מנוי הטלוויזיה שלי אצל [ספק נוכחי] ולהצטרף לספק חדש על פי בחירתי, לרבות משלוח הודעת ביטול ותיאום החזרת ציוד. תוקף עד [תאריך פקיעה] או ביטול. תאריך: ___ חתימה: ___.`,
        full: `אני הח״מ, [שם מלא], ת.ז. [מס׳], מאשר/ת ל${companyName} לבטל את מנוי הטלוויזיה שלי אצל [ספק נוכחי] ולהצטרף לספק חדש על פי בחירתי, לרבות משלוח הודעת ביטול ותיאום החזרת ציוד. תוקף עד [תאריך פקיעה] או ביטול. תאריך: ___ חתימה: ___.`
      },
      business: {
        short: `אנחנו, [שם התאגיד], ח.פ./ח.צ. [מס׳], מאשרים ל${companyName} לבטל/להקים מנויי טלוויזיה עבורנו לפי הצורך, לרבות הודעות ביטול והחזרת ציוד. תוקף עד [תאריך פקיעה] או ביטול. מורשה חתימה: ___ ת.ז.: ___ תפקיד: ___ חתימה/חותמת: ___.`,
        full: `אנחנו, [שם התאגיד], ח.פ./ח.צ. [מס׳], מאשרים ל${companyName} לבטל/להקים מנויי טלוויזיה עבורנו לפי הצורך, לרבות הודעות ביטול והחזרת ציוד. תוקף עד [תאריך פקיעה] או ביטול. מורשה חתימה: ___ ת.ז.: ___ תפקיד: ___ חתימה/חותמת: ___.`
      }
    }
  };

  return texts[category][customerType];
};

export const getChecklistItems = (category: ServiceCategory, customerType: CustomerType): Array<{ id: string; text: string; required: boolean }> => {
  // Common items for all forms
  const commonItems = [
    {
      id: 'personal-details',
      text: customerType === 'private' 
        ? 'פרטי זהות מלאים ותקינים: שם מלא כמו בת"ז, מספר ת"ז 9 ספרות, טלפון נייד פעיל ואימייל תקין'
        : 'פרטי התאגיד: שם החברה מדויק, ח.פ./ח.צ., פרטי המורשה בחתימה (שם מלא, ת"ז, תפקיד), אימייל תקין',
      required: true
    },
    {
      id: 'documents',
      text: customerType === 'private' 
        ? 'מסמכים הועלו: צילום ברור של ת"ז (שני צדדים), תמונה או PDF איכותי'
        : 'מסמכים הועלו: נסח חברה עדכני (עד 3 חודשים), צילום ת"ז המורשה בחתימה (שני צדדים)',
      required: true
    },
    {
      id: 'power-of-attorney',
      text: 'תוקף ייפוי כוח: תאריך עתידי (מומלץ לפחות 6-12 חודשים מהיום)',
      required: true
    }
  ];

  // Category-specific items - כל מה שצריך באמת לכל סקטור
  const categoryItems: Record<ServiceCategory, Record<CustomerType, Array<{ id: string; text: string; required: boolean }>>> = {
    electricity: {
      private: [
        {
          id: 'current-provider',
          text: 'ספק חשמל נוכחי נבחר מהרשימה (או צוין כ"אחר")',
          required: true
        },
        {
          id: 'service-identifiers',
          text: 'מזהה השירות: מספר חוזה או מספר מונה (לפחות אחד מהם חובה)',
          required: true
        },
        {
          id: 'consumption-address',
          text: 'כתובת אתר הצריכה המדויקת (רחוב, מספר בית, עיר)',
          required: true
        },
        {
          id: 'target-plan',
          text: 'מסלול חשמל נבחר: ספק יעד וסוג תעריף מוגדרים',
          required: true
        }
      ],
      business: [
        {
          id: 'current-provider',
          text: 'ספק חשמל נוכחי נבחר מהרשימה',
          required: true
        },
        {
          id: 'service-identifiers',
          text: 'מזהי השירותים: מספרי חוזה/מונה לכל נקודת צריכה',
          required: true
        },
        {
          id: 'consumption-addresses',
          text: 'כתובות אתרי הצריכה המדויקות לכל נקודה',
          required: true
        }
      ]
    },
    cellular: {
      private: [
        {
          id: 'current-provider',
          text: 'ספק סלולרי נוכחי נבחר מהרשימה',
          required: true
        },
        {
          id: 'phone-numbers',
          text: 'מספרי הקווים להעברה: כל מספר בפורמט 05X-XXXXXXX (תקין ופעיל)',
          required: true
        },
        {
          id: 'otp-confirmation',
          text: 'אימות OTP: אישרת שיש לך גישה לכרטיסי ה-SIM הנוכחיים לקבלת קודי אימות',
          required: true
        },
        {
          id: 'last-bill-optional',
          text: 'חשבונית אחרונה (רצוי): עוזרת לזיהוי המנוי ומזרזת את התהליך',
          required: false
        },
        {
          id: 'hot-mobile-note',
          text: 'הערה חשובה: אם אתה לקוח HOT Mobile - תזדקק להתקשר למוקד לאחר קבלת SIM חדש',
          required: false
        }
      ],
      business: [
        {
          id: 'current-provider',
          text: 'ספק סלולרי נוכחי נבחר מהרשימה',
          required: true
        },
        {
          id: 'phone-numbers',
          text: 'מספרי הקווים להעברה: רשימה מלאה עם מספרי הקווים העסקיים',
          required: true
        },
        {
          id: 'account-manager',
          text: 'איש קשר מטעם החברה המוסמך לאשר את המעבר',
          required: true
        }
      ]
    },
    internet: {
      private: [
        {
          id: 'infrastructure-provider',
          text: 'ספק תשתית נוכחי: בזק, HOT, סיב פרטי או אחר - חובה לדעת מי הספק',
          required: true
        },
        {
          id: 'current-isp',
          text: 'ספק אינטרנט (ISP) נוכחי: החברה שמספקת את שירות האינטרנט',
          required: true
        },
        {
          id: 'line-identifier',
          text: 'מזהה הקו: מספר מנוי/קו/ONT/מודם - הדרך לזהות את החיבור שלך',
          required: true
        },
        {
          id: 'bundle-service-note',
          text: 'הערת חבילה: אם התשתית וה-ISP באותה חברה - יידרשו 2 בקשות נפרדות',
          required: false
        },
        {
          id: 'installation-access',
          text: 'גישה לטכנאי: וידוא שיש גישה פיזית לציוד ולנקודות החיבור',
          required: true
        }
      ],
      business: [
        {
          id: 'infrastructure-provider',
          text: 'ספק תשתית נוכחי לכל אתר',
          required: true
        },
        {
          id: 'current-isp',
          text: 'ספק אינטרנט נוכחי לכל אתר',
          required: true
        },
        {
          id: 'line-identifiers',
          text: 'מזהי קווים: רשימה מלאה של מספרי מנוי/ONT לכל אתר',
          required: true
        },
        {
          id: 'technical-contact',
          text: 'איש קשר טכני: מי שיתאם עם הטכנאים ויאשר את ההתקנות',
          required: true
        }
      ]
    },
    tv: {
      private: [
        {
          id: 'current-provider',
          text: 'ספק טלוויזיה נוכחי: YES, HOT, סלקום TV, פרטנר TV או אחר',
          required: true
        },
        {
          id: 'subscription-number',
          text: 'מספר מנוי טלוויזיה: מופיע בחשבונית או באפליקציית הספק',
          required: true
        },
        {
          id: 'equipment-return',
          text: 'החזרת ציוד: תיאום מראש איך ומתי תחזיר את הממירים/הרסיברים',
          required: true
        },
        {
          id: 'installation-scheduling',
          text: 'תיאום התקנה: זמינות לקבלת טכנאי להתקנת הציוד החדש',
          required: true
        }
      ],
      business: [
        {
          id: 'current-provider',
          text: 'ספק טלוויזיה נוכחי לכל אתר',
          required: true
        },
        {
          id: 'subscription-numbers',
          text: 'מספרי מנוי: רשימה מלאה לכל אתר/חדר ישיבות',
          required: true
        },
        {
          id: 'equipment-logistics',
          text: 'לוגיסטיקת ציוד: תיאום החזרה ואיסוף ציוד ישן והתקנת חדש',
          required: true
        }
      ]
    }
  };

  // Final verification items
  const finalItems = [
    {
      id: 'terms-privacy',
      text: 'הסכמות: אישרת הסכמה לתנאי השימוש ולמדיניות הפרטיות',
      required: true
    },
    {
      id: 'information-accuracy',
      text: 'דיוק המידע: בדקת שכל הפרטים שמילאת נכונים ומעודכנים',
      required: true
    },
    {
      id: 'final-review',
      text: 'סקירה אחרונה: עברת על כל הפרטים וודאת שהכול מושלם לפני השליחה',
      required: true
    }
  ];

  return [
    ...commonItems,
    ...categoryItems[category][customerType],
    ...finalItems
  ];
};

export const getSuccessMessage = (referenceNumber: string): string => `
כותרת: "הבקשה נקלטה בהצלחה ✅"

מס׳ אסמכתא: ${referenceNumber}

קישור למסמך חתום (PDF): [צפייה/הורדה]

קישורי קבצים שצורפו: [רשימה]

סטטוס: בהמתנה לאישור ספק/אימות OTP (אם רלוונטי)

תזכורת: בסלולר יש לאשר את הודעת ה-SMS; ב-HOT mobile — יש להתקשר לאחר הפעלת ה-SIM; בטלוויזיה — זכרו לתאם החזרת ציוד.

נעדכן אתכם בהודעת SMS/מייל מיד כשחל שינוי סטטוס.
`;

export const getPrivacyPolicyText = (): string => `
מדיניות פרטיות — תקציר

מי אנחנו: [שם חברת המעבר], ח.פ. [מס׳], כתובת: [כתובת], דוא״ל: [support@…].

מה אנו אוספים: פרטים מזהים (שם, ת.ז./ח.פ.), פרטי קשר (נייד, אימייל), פרטי שירות (מס׳ מנוי/חוזה/מונה, ספקים), מסמכים (סריקות ת.ז., נסח חברה), חתימות דיגיטליות ומטא-נתונים (חותמת זמן, IP, דפדפן).

לשם מה: לצורך מתן השירות — ביצוע מעבר ספקים, הפקת מסמכים חתומים, אימות זהות, תקשורת עם ספקים, עמידה בדרישות דין.

בסיס משפטי: קיום חוזה מולך/השגת הסכמתך; אינטרס לגיטימי בתיעוד (Audit) למניעת הונאה ומענה לטענות.

עם מי משתפים: ספקי היעד והספקים הננטשים, ספקי חתימה דיגיטלית/אחסון מאובטח, נותני שירותי IT רלוונטיים; לא נמכור פרטים לצד שלישי שאינו נחוץ לשירות.

אבטחה: הצפנה במעבר ובמנוחה; בקרת גישה; לוגים; בדיקות תקופתיות.

שמירה ומחיקה:
• מסמכים מזהים (סריקות ת.ז.): מחיקה אוטומטית לאחר 30 ימים ממועד השליחה
• PDF חתום + Audit: שמירה למשך 7 שנים לצורך הוכחות משפטיות
• נתוני קשר: עד בקשת מחיקה/התנגדות או לפי הדין

זכויותיך: עיון/תיקון/מחיקה/הגבלת עיבוד בכפוף לדין.

יצירת קשר: [פרטי DPO/אחראי פרטיות].

עדכונים: נעדכן גרסה ונציין תאריך עדכון.
`;

export const getTermsOfServiceText = (): string => `
תנאי שימוש — תקציר

השרות: האפליקציה מסייעת בביצוע מעבר ספקים, הפקת מסמכים, והעברת בקשות — אולם השלמת המעבר תלויה באישורי הספקים ובאימותים חיצוניים (כגון OTP).

חובות המשתמש: לספק מידע מדויק; לעדכן על שינוי פרטים; לא למסור פרטים של צד שלישי ללא הרשאה; לשתף פעולה באימותים.

אחריות: אנו נפעל במקצועיות וסבירות; איננו אחראים לעיכובים/סירובים שמקורם אצל ספקים/רגולטורים; אין אחריות לנזקים תוצאתיים עקיפים.

תשלום: השירות לצרכנים ניתן ללא עלות; החברה עשויה לקבל עמלות מהספקים.

תכנים ומדדים: מידע על חיסכון/תעריפים הוא להמחשה בלבד — ההצעה הסופית של הספק מחייבת רק אותו.

שיפוי: המשתמש ישפה את החברה על נזקים כתוצאה מהפרת התנאים או משליחת מידע שגוי.

שיפוט: סמכות השיפוט הבלעדית — בתי המשפט באזור תל אביב.

יצירת קשר: [פרטים].
`;