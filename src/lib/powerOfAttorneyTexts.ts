import { ServiceCategory, CustomerType } from '@/types/switchForms';

export interface PowerOfAttorneyText {
  short: string;
  full: string;
}

export const getPowerOfAttorneyText = (
  category: ServiceCategory,
  customerType: CustomerType,
  companyName: string = '[שם חברת המעבר]'
): PowerOfAttorneyText => {
  const texts: Record<ServiceCategory, Record<CustomerType, PowerOfAttorneyText>> = {
    electricity: {
      private: {
        short: `אני הח״מ, [שם מלא], ת.ז. [מס׳], ממנה את ${companyName} ו/או מיופה מטעמה לקבל בשמי מידע צריכה (מס׳ חוזה/מונה [___]) ולבצע החלפת ספק חשמל בהתאם לבחירתי. ההרשאה מוגבלת להליך המעבר, בתוקף עד [תאריך פקיעה] או ביטול בכתב. תאריך: ___ חתימה: ___.`,
        full: `אני הח״מ, [שם מלא], ת.ז. [מס׳], מאשר/ת ל${companyName} לפעול בשמי לביצוע החלפת ספק חשמל עבור נקודת הצריכה שמספרה [מס׳ חוזה/מונה] בכתובת [כתובת], לרבות: הגשת בקשה מקוונת, קבלת/מסירת מידע הנדרש, קבלת הודעות אימות (SMS/Email) ומתן מענה טכני נדרש. ההרשאה אינה מקנה סמכות לביצוע פעולות כספיות מעבר להצטרפות לספק החדש. תוקף עד [תאריך פקיעה] או עד הודעת ביטול בכתב (הקודם מביניהם). ידוע לי שספק החשמל או המפעיל יוכלו לפנות אליי לאימות. תאריך: ___ חתימה: ___.`
      },
      business: {
        short: `אנחנו, [שם התאגיד], ח.פ./ח.צ. [מס׳], ממנים את ${companyName} לפעול בשמנו לקבלת מידע וביצוע החלפת ספק חשמל עבור נקודות הצריכה המפורטות, לרבות הגשה מקוונת ואישורים נדרשים. תוקף עד [תאריך פקיעה] או ביטול בכתב. מורשה חתימה: ___ ת.ז.: ___ תפקיד: ___ תאריך: ___ חתימה/חותמת: ___.`,
        full: `אנחנו, [שם התאגיד], ח.פ./ח.צ. [מס׳], ממנים את ${companyName} לפעול בשמנו לקבלת מידע וביצוע החלפת ספק חשמל עבור נקודות הצריכה המפורטות, לרבות הגשה מקוונת ואישורים נדרשים. תוקף עד [תאריך פקיעה] או ביטול בכתב. מורשה חתימה: ___ ת.ז.: ___ תפקיד: ___ תאריך: ___ חתימה/חותמת: ___.`
      }
    },
    cellular: {
      private: {
        short: `אני הח״מ, [שם מלא], ת.ז. [מס׳], מרשה ל${companyName} לבצע בשמי ניתוק/ביטול וניוד מספרים, שינוי בעלות וקבלת/מסירת מידע הנדרש לצורך המעבר בין ספקי סלולר, ללא סמכות לפעולות כספיות שאינן נחוצות להצטרפות. תוקף עד [תאריך פקיעה] או ביטול. ידוע לי שאדרש לאשר OTP ב-SIM הנוכחי. תאריך: ___ חתימה: ___.`,
        full: `אני הח״מ, [שם מלא], ת.ז. [מס׳], מרשה ל${companyName} לבצע בשמי ניתוק/ביטול וניוד מספרים, שינוי בעלות וקבלת/מסירת מידע הנדרש לצורך המעבר בין ספקי סלולר, ללא סמכות לפעולות כספיות שאינן נחוצות להצטרפות. תוקף עד [תאריך פקיעה] או ביטול. ידוע לי שאדרש לאשר OTP ב-SIM הנוכחי. תאריך: ___ חתימה: ___.`
      },
      business: {
        short: `אנחנו, [שם התאגיד], ח.פ./ח.צ. [מס׳], מייפים את כוחם של ${companyName} ו/או מורשיה להגיש בשמנו בקשות ניוד/שינוי בעלות לקווי סלולר כמפורט, לקבל/למסור מידע מזהה, ולפעול מול הספקים הקולטים/הננטשים. ההרשאה מוגבלת למעבר המבוקש, עד [תאריך פקיעה] או ביטול בכתב. מורשה חתימה: ___ ת.ז.: ___ תפקיד: ___ חתימה/חותמת: ___.`,
        full: `אנחנו, [שם התאגיד], ח.פ./ח.צ. [מס׳], מייפים את כוחם של ${companyName} ו/או מורשיה להגיש בשמנו בקשות ניוד/שינוי בעלות לקווי סלולר כמפורט, לקבל/למסור מידע מזהה, ולפעול מול הספקים הקולטים/הננטשים. ההרשאה מוגבלת למעבר המבוקש, עד [תאריך פקיעה] או ביטול בכתב. מורשה חתימה: ___ ת.ז.: ___ תפקיד: ___ חתימה/חותמת: ___.`
      }
    },
    internet: {
      private: {
        short: `אני הח״מ, [שם מלא], ת.ז. [מס׳], מרשה ל${companyName} לנתק ולחבר שירותי אינטרנט ותשתית בשמי, לרבות שינוי ספק תשתית/ISP, מסירת מזהי קו/מנוי/ONT, קבלת הודעות ניתוק/הצטרפות וחתימה על הצהרות טכניות נלוות. תוקף עד [תאריך פקיעה] או ביטול. תאריך: ___ חתימה: ___.`,
        full: `אני הח״מ, [שם מלא], ת.ז. [מס׳], מרשה ל${companyName} לנתק ולחבר שירותי אינטרנט ותשתית בשמי, לרבות שינוי ספק תשתית/ISP, מסירת מזהי קו/מנוי/ONT, קבלת הודעות ניתוק/הצטרפות וחתימה על הצהרות טכניות נלוות. תוקף עד [תאריך פקיעה] או ביטול. תאריך: ___ חתימה: ___.`
      },
      business: {
        short: `אנחנו, [שם התאגיד], ח.פ./ח.צ. [מס׳], ממנים את ${companyName} לביצוע ניתוק/חיבור שירותי אינטרנט ותשתיות עבור האתרים/קווים המפורטים, לרבות מסירת מזהים טכניים והשלמת הליכי הצטרפות. תוקף עד [תאריך פקיעה] או ביטול. מורשה חתימה: ___ ת.ז.: ___ תפקיד: ___ חתימה/חותמת: ___.`,
        full: `אנחנו, [שם התאגיד], ח.פ./ח.צ. [מס׳], ממנים את ${companyName} לביצוע ניתוק/חיבור שירותי אינטרנט ותשתיות עבור האתרים/קווים המפורטים, לרבות מסירת מזהים טכניים והשלמת הליכי הצטרפות. תוקף עד [תאריך פקיעה] או ביטול. מורשה חתימה: ___ ת.ז.: ___ תפקיד: ___ חתימה/חותמת: ___.`
      }
    },
    tv: {
      private: {
        short: `אני הח״מ, [שם מלא], ת.ז. [מס׳], מאשר/ת ל${companyName} לבטל את מנוי הטלוויזיה שלי אצל [ספק נוכחי] ולהצטרף לספק חדש על פי בחירתי, לרבות משלוח הודעת ביטול ותיאום החזרת ציוד. תוקף עד [תאריך פקיעה] או ביטול. תאריך: ___ חתימה: ___.`,
        full: `אני הח״מ, [שם מלא], ת.ז. [מס׳], מאשר/ת ל${companyName} לבטל את מנוי הטלוויזיה שלי אצל [ספק נוכחי] ולהצטרף לספק חדש על פי בחירתי, לרבות משלוח הודעת ביטול ותיאום החזרת ציוד. תוקף עד [תאריך פקיעה] או ביטול. תאריך: ___ חתימה: ___.`
      },
      business: {
        short: `אנחנו, [שם התאגיד], ח.פ./ח.צ. [מס׳], מאשרים ל${companyName} לבטל/להקים מנויי טלוויזיה עבורנו לפי הצורך, לרבות הודעות ביטול והחזרת ציוד. תוקף עד [תאריך פקיעה] או ביטול. מורשה חתימה: ___ ת.ז.: ___ תפקיד: ___ חתימה/חותמת: ___.`,
        full: `אנחנו, [שם התאגיד], ח.פ./ח.צ. [מס׳], מאשרים ל${companyName} לבטל/להקים מנויי טלוויזיה עבורנו לפי הצורך, לרבות הודעות ביטול והחזרת ציוד. תוקף עד [תאריך פקיעה] או ביטול. מורשה חתימה: ___ ת.ז.: ___ תפקיד: ___ חתימה/חותמת: ___.`
      }
    }
  };

  return texts[category][customerType];
};

export const getChecklistItems = (category: ServiceCategory, customerType: CustomerType): Array<{ id: string; text: string; required: boolean }> => {
  // Common items for all forms
  const commonItems = [
    {
      id: 'personal-details',
      text: customerType === 'private' 
        ? 'פרטי זהות מלאים: שם מלא, ת.ז., טלפון נייד ואימייל'
        : 'פרטי החברה והמורשה בחתימה: שם החברה, ח.פ., שם המורשה, ת.ז. המורשה, תפקיד ואימייל',
      required: true
    },
    {
      id: 'documents',
      text: customerType === 'private' 
        ? 'צילום תעודת זהות הועלה'
        : 'נסח חברה ותעודת זהות המורשה בחתימה הועלו',
      required: true
    },
    {
      id: 'power-of-attorney',
      text: 'תאריך פקיעת ייפוי הכוח מולא (תאריך עתידי)',
      required: true
    }
  ];

  // Category-specific items - מזהי שירות מולאו
  const categoryItems: Record<ServiceCategory, Record<CustomerType, Array<{ id: string; text: string; required: boolean }>>> = {
    electricity: {
      private: [
        {
          id: 'service-identifiers',
          text: '✅ מזהי שירות מולאו: חוזה/מונה + כתובת',
          required: true
        }
      ],
      business: [
        {
          id: 'service-identifiers',
          text: '✅ מזהי שירות מולאו: חוזה/מונה + כתובת',
          required: true
        }
      ]
    },
    cellular: {
      private: [
        {
          id: 'service-identifiers',
          text: '✅ מזהי שירות מולאו: מספרים בפורמט 05X-XXXXXXX',
          required: true
        },
        {
          id: 'otp-confirmation',
          text: '✅ אימותים ייחודיים: סלולר — תיבת "אשר/י OTP" מסומנת',
          required: true
        }
      ],
      business: [
        {
          id: 'service-identifiers', 
          text: '✅ מזהי שירות מולאו: מספרים בפורמט 05X-XXXXXXX',
          required: true
        }
      ]
    },
    internet: {
      private: [
        {
          id: 'service-identifiers',
          text: '✅ מזהי שירות מולאו: תשתית + ISP + קו/ONT (ובאנדל — 2 בקשות)',
          required: true
        }
      ],
      business: [
        {
          id: 'service-identifiers',
          text: '✅ מזהי שירות מולאו: תשתית + ISP + קו/ONT (ובאנדל — 2 בקשות)',
          required: true
        }
      ]
    },
    tv: {
      private: [
        {
          id: 'service-identifiers',
          text: '✅ מזהי שירות מולאו: מס׳ מנוי + אופן החזרת ציוד',
          required: true
        }
      ],
      business: [
        {
          id: 'service-identifiers',
          text: '✅ מזהי שירות מולאו: מס׳ מנוי + אופן החזרת ציוד',
          required: true
        }
      ]
    }
  };

  // Final items for all forms
  const finalItems = [
    {
      id: 'final-review',
      text: '✅ סקירה + חתימה דיגיטלית הושלמו',
      required: true
    }
  ];

  return [
    ...commonItems,
    ...categoryItems[category][customerType],
    ...finalItems
  ];
};

export const getSuccessMessage = (referenceNumber: string): string => `
כותרת: "הבקשה נקלטה בהצלחה ✅"

מס׳ אסמכתא: ${referenceNumber}

קישור למסמך חתום (PDF): [צפייה/הורדה]

קישורי קבצים שצורפו: [רשימה]

סטטוס: בהמתנה לאישור ספק/אימות OTP (אם רלוונטי)

תזכורת: בסלולר יש לאשר את הודעת ה-SMS; ב-HOT mobile — יש להתקשר לאחר הפעלת ה-SIM; בטלוויזיה — זכרו לתאם החזרת ציוד.

נעדכן אתכם בהודעת SMS/מייל מיד כשחל שינוי סטטוס.
`;

export const getPrivacyPolicyText = (): string => `
מדיניות פרטיות — תקציר

מי אנחנו: [שם חברת המעבר], ח.פ. [מס׳], כתובת: [כתובת], דוא״ל: [support@…].

מה אנו אוספים: פרטים מזהים (שם, ת.ז./ח.פ.), פרטי קשר (נייד, אימייל), פרטי שירות (מס׳ מנוי/חוזה/מונה, ספקים), מסמכים (סריקות ת.ז., נסח חברה), חתימות דיגיטליות ומטא-נתונים (חותמת זמן, IP, דפדפן).

לשם מה: לצורך מתן השירות — ביצוע מעבר ספקים, הפקת מסמכים חתומים, אימות זהות, תקשורת עם ספקים, עמידה בדרישות דין.

בסיס משפטי: קיום חוזה מולך/השגת הסכמתך; אינטרס לגיטימי בתיעוד (Audit) למניעת הונאה ומענה לטענות.

עם מי משתפים: ספקי היעד והספקים הננטשים, ספקי חתימה דיגיטלית/אחסון מאובטח, נותני שירותי IT רלוונטיים; לא נמכור פרטים לצד שלישי שאינו נחוץ לשירות.

אבטחה: הצפנה במעבר ובמנוחה; בקרת גישה; לוגים; בדיקות תקופתיות.

שמירה ומחיקה:
• מסמכים מזהים (סריקות ת.ז.): מחיקה אוטומטית לאחר 30 ימים ממועד השליחה
• PDF חתום + Audit: שמירה למשך 7 שנים לצורך הוכחות משפטיות
• נתוני קשר: עד בקשת מחיקה/התנגדות או לפי הדין

זכויותיך: עיון/תיקון/מחיקה/הגבלת עיבוד בכפוף לדין.

יצירת קשר: [פרטי DPO/אחראי פרטיות].

עדכונים: נעדכן גרסה ונציין תאריך עדכון.
`;

export const getTermsOfServiceText = (): string => `
תנאי שימוש — תקציר

השרות: האפליקציה מסייעת בביצוע מעבר ספקים, הפקת מסמכים, והעברת בקשות — אולם השלמת המעבר תלויה באישורי הספקים ובאימותים חיצוניים (כגון OTP).

חובות המשתמש: לספק מידע מדויק; לעדכן על שינוי פרטים; לא למסור פרטים של צד שלישי ללא הרשאה; לשתף פעולה באימותים.

אחריות: אנו נפעל במקצועיות וסבירות; איננו אחראים לעיכובים/סירובים שמקורם אצל ספקים/רגולטורים; אין אחריות לנזקים תוצאתיים עקיפים.

תשלום: השירות לצרכנים ניתן ללא עלות; החברה עשויה לקבל עמלות מהספקים.

תכנים ומדדים: מידע על חיסכון/תעריפים הוא להמחשה בלבד — ההצעה הסופית של הספק מחייבת רק אותו.

שיפוי: המשתמש ישפה את החברה על נזקים כתוצאה מהפרת התנאים או משליחת מידע שגוי.

שיפוט: סמכות השיפוט הבלעדית — בתי המשפט באזור תל אביב.

יצירת קשר: [פרטים].
`;